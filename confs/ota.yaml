esphome:
  project:
    name: Gekkekoe.Ecodan ESPHome Heatpump
    version: "VERSION"
  on_boot:
      priority: -100
      then:
        - text_sensor.template.publish:
            id: current_fw_version
            state: !lambda 'return ESPHOME_PROJECT_VERSION;'

text_sensor:
  - platform: template
    id: current_fw_version
    name: "Firmware Version"
    update_interval: never

# enable ota update via http request
http_request:
  buffer_size_tx: 20248

ota:
  - platform: esphome
  - platform: http_request
  - platform: web_server

update:
  - platform: http_request
    name: Firmware Update
    source: https://github.com/gekkekoe/esphome-ecodan-hp/releases/latest/download/manifest.json

improv_serial:
